#
#  buildimage.pl configuration file
#
<Image>

    ImageName = Bering-uClibc
    KernelArch = i686
    ImageType = syslinux
    ImageSuffix = vga
    Toolchain = i486-unknown-linux-uclibc

    <Config>
      # {DATE}			is defined automatically
      # {VERSION}		is defined automatically
      # {KERNEL}		is defined automatically
	{LEAFCFG}		= /dev/sda1:vfat
	{PKGPATH}		= /dev/sda1:vfat
	{LRP}			= root config etc modules license dhcpcd keyboard shorwall dnsmasq dropbear mhttpd webconf
	{LOG_SIZE}		= 8M
	{TMP_SIZE}		= 8M
    </Config>

    <Contents>
	
	<Kernel>
	    Filename		= syslinux/linux	# Used for {KERNEL}
	    Source		= staging/$GNU_TARGET_NAME/boot/linux-i686
	</Kernel>

	# Note that this copies the *-${KARCH}.lrp files with their full names
	<File>
	    Filename		= /
	    Source		= package/$GNU_TARGET_NAME/*.lrp
	</File>
	<File>
	    Filename		= /
	    Source		= package/$GNU_TARGET_NAME/*.lwp
	</File>

	<File>
	    Filename		= /moddb.lrp
	    Source		= package/$GNU_TARGET_NAME/moddb-i686.lrp
	</File>

	<File>
	    Filename		= /initrd.lrp
	    Source		= package/$GNU_TARGET_NAME/initrd.lrp
	</File>

	<File>
	    Filename		= /initmod.lrp
	    Source		= package/$GNU_TARGET_NAME/initmod-i686.lrp
	</File>

	<File>
	    Filename		= readme
	    Source		= tools/image/common/readme
	    SearchAndReplace	= {DATE} 
	    SearchAndReplace	= {VERSION}
	</File>

	<File>
	    Filename		= syslinux/syslinux.dpy
	    Source		= tools/image/syslinux/syslinux.dpy
	    SearchAndReplace	= {DATE} 
	    SearchAndReplace	= {VERSION}
	</File>

	<File>
	    Filename		= syslinux/syslinux.cfg
	    Source		= tools/image/syslinux/syslinux.cfg
	    SearchAndReplace	= {LEAFCFG}
	    SearchAndReplace	= {KERNEL}
	</File>

	<File>
	    Filename		= leaf.cfg
	    Source		= tools/image/common/leaf.cfg
	    SearchAndReplace	= {PKGPATH}
	    SearchAndReplace	= {LRP}
	    SearchAndReplace	= {LOG_SIZE}
	    SearchAndReplace	= {TMP_SIZE}
	</File>

    </Contents>

</Image>

# vi: set ai sw=4 wm=5 fo=cql:
