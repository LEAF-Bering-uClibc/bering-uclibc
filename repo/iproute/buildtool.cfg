<File buildtool.mk>
  Server = localrepo
  Revision = HEAD
  Directory = iproute
</File>

<File iproute2-2.6.35.tar.bz2>
  Server = localrepo
  envname = IPROUTE_SOURCE
  Revision = HEAD
  Directory = iproute
</File>

<File iproute-noarpd.patch>
  Server = localrepo
  envname = IPROUTE_PATCH1
  Revision = HEAD
  Directory = iproute
</File>

<File 006-iproute2-tc_esfq.patch.gz>
  Server = localrepo
  envname = IPROUTE_PATCH2
  Revision = HEAD
  Directory = iproute
</File>

# fix for Trac ticket #80 - unnecessary for kernel 3.2.x
<File iproute-get.patch>
  Server = localrepo
  envname = IPROUTE_PATCH3
  Revision = HEAD
  Directory = iproute
</File>

<Package>
	<tc>
		Version = 2.6.35
		Revision = 4
		License = GPL-2.0
		
		Help <<EOF
		tc from iproute2 patched for HTB3 and HFSC
		Homepage: ftp://ftp.inr.ac.ru/ip-routing/
		Requires: libm.lrp
		LEAF Package by __PACKAGER__, __BUILDDATE__
		EOF
		
		<Permissions>
			Files = 644
			Directories = 755
		</Permissions>
		
		<Owner>
			Files = root:root
			Directories = root:root
		</Owner>

		<DependsOn>
			Package = libm
		</DependsOn>
		
		<Contents>
			<File>
				Source		= sbin/tc
				Filename	= sbin/tc
				Type		= binary
				Permissions	= 755
			</File>
		</Contents>
	</tc>
</Package>
